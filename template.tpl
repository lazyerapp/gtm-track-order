___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "All4one",
  "brand": {
    "id": "brand_dummy",
    "displayName": "All4one",
    "thumbnail": "data:image/jpeg;base64,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\u003d"
  },
  "description": "[All For One] platform track user\u0027s order",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "finishPath",
    "displayName": "購物完成頁面",
    "simpleValueType": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const log = require('logToConsole');
const injectScript = require('injectScript');
const copyFromWindow = require('copyFromWindow');
const queryPermission = require('queryPermission');
const getQueryParameters = require('getQueryParameters');
const getUrl = require('getUrl');
const localStorage = require('localStorage');
const sendPixel = require('sendPixel');
const url = "https://www.curvedata.tw/js/all4one.js";

function trackingUser() {
  const uid = getQueryParameters('uid');
  if (uid) {
    localStorage.setItem('all4one_uid', uid);
    log(localStorage.getItem('all4one_uid'));
  }
}

// If the script loaded successfully, log a message and signal success
const onSuccess = () => {
  log('all4one: Script loaded successfully.');
  if (queryPermission('get_url', 'path')) {
    const shoppingFinishPath = getUrl('path');
    if (shoppingFinishPath.indexOf(data.finishPath) > -1) {
      const all4one = copyFromWindow('all4one');
      all4one('send', 'page');
    }
  }
  data.gtmOnSuccess();
};

// If the script fails to load, log a message and signal failure
const onFailure = () => {
  log('all4one: Script load failed.');
  data.gtmOnFailure();
};

const checkPermissions = () => {
  if (!queryPermission('inject_script', url)) {
    log('Unable to inject widget script due to missing permissions!');
    return false;
  }
  if (!queryPermission('access_globals', 'readwrite', 'all4one')) {
    log('Unable to access globals due to missing all4oneClass!');
    return false;
  }
  return true;
};

if (checkPermissions()) {
  trackingUser();
  injectScript(url, onSuccess, onFailure);
} else {
  data.gtmOnFailure();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "all4one"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://www.curvedata.tw/js/all4one.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_url",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urlParts",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "queriesAllowed",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_local_storage",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "all4one_uid"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "send_pixel",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedUrls",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://www.curvedata.tw/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Quick Test
  code: runCode();
setup: ''


___NOTES___

Created on 2022/3/23 上午2:25:00


